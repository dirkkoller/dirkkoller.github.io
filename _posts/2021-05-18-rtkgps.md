---
layout: post
title:  Zentimetergenaue Positionsbestimmung mit GPS
categories: gps
permalink: /gps-genauigkeit
---

Das amerikanische Navigationssystem mit seinen Konkurrenten GLONASS und Galileo ist allgegenwärtig. Die Anforderungen an die Genauigkeit der Geräte hängen vom Verwendungszweck ab. Wer GPS zur Aufzeichnung der morgendlichen Jogging-Runde oder als Lotse für die Urlaubsreise einsetzt, kommt mit ein paar Metern Abweichung gut aus.
Anders sieht es im Precision Farming, aus, wo große Geräte wie Mähdrescher ihre Arbeit womöglich demnächst autonom verrichten sollen. Hier muss die ermittelte Position schon im Bereich von einem Dezimeter liegen damit der Feldweg nicht in Mitleidenschaft gezogen wird. Ähnlich ist die Lage bei zukünftigen Lieferdrohnen, das Paket soll schließlich nicht in Nachbars Kirschbaum landen.
Auf die Spitze getrieben werden die Anforderungen in der Vermessung. GNSS, so die eigentlich korrekte Abkürzung für Satellitennavigationssatellitensysteme, steht hier in Konkurrenz zu bewährten aber arbeitsintensiven Geräten wie Tachymeter und Theodolit. Und die ermöglichen Genauigkeiten von einem Zentimeter oder darunter.


## Die Vermessung der Welt
Derart hohe Genauigkeiten waren vor Beginn des Satellitenzeitalters zumindest Kontinent übergreifend undenkbar. Bei Entfernungsangaben zwischen Europa und Amerika waren Abweichungen von 100 Metern nichts ungewöhnliches. Mit der damals genauesten geodätischen Methode, der Triangulation, war man nicht in der Lage die Ozeane zu überwinden. Das erste GPS, der V-1000 aus dem Jahr 1982, hatte die Abmessungen eines Kühlschranks und ermöglichte Messungen mit einer Unsicherheit von mehreren Metern. Die Empfänger sind seitdem kleiner und billiger geworden, die Genauigkeit ohne weitere Optimierung aber ist die gleiche geblieben. Dabei erlaubt das zugrundeliegende Prinzip eigentlich eine deutlich genauere Bestimmung der Position. Wie kommt es zu den Fehlern?

Die Probleme sind vielgestaltig und haben entgegen hartnäckigen Gerüchten nichts mehr mit einer aus militärischem Gründen absichtlich herbeigeführten Verschlechterung des GPS-Signal zu tun (diese ist seit dem Jahr 2000 nicht mehr in Betrieb). Zunächst einmal wird die Genauigkeit der Streckenmessung durch fehlerhafte Bahndaten und Fehler in den Satellitenuhren beeinflusst. Eine weitere Fehlerquelle sind Signalausbreitungsfehler durch die unterschiedliche Brechung des Signals in Iono- und Troposphäre,  aber auch durch Reflektion des Signals an Gebäuden. Schließlich treten noch Empfängerfehler wie das frequenzabhängige thermische Messrauschen oder hardwarebedingte Verzögerungen auf. In der Summe ergeben sich Standardabweichungen von etwa 5 Metern, wobei die Signalausbreitung in der Ionosphäre den größten Beitrag zum Messfehler liefert.


## Mathestunde: Trilateration
GPS basiert auf dem Prinzip der Trilateration: Satelliten senden mit Hilfe sehr exakter Uhren an Bord ihre Position und einen Zeitstempel an den Empfänger auf der Erde. Je nach Entfernung kommen die Signale verschiedener Satelliten bei gleichzeitigem Ausstrahlen des Signals also mit leichtem zeitlichen Versatz beim Empfänger an. Der Empfänger vergleicht die Absendezeit im Zeitstempel mit der Empfangszeit im Empfänger und bestimmt so die Reisedauer. Die Empfänger können aus dieser Laufzeit der Radiowellen und der bekannten Reisegeschwindigkeit (300.000 km/s) die zurückgelegte Strecke berechnen. Zusammen mit der übertragenen Position des Satelliten lässt sich damit ein Kreis auf der Erdoberfläche errechnen, von dem jeder Punkt der Kreislinie als die gesuchte Position in Frage kommt. Zu allen Positionen auf diesem Kreis ist das Signal exakt die errechnete Zeit unterwegs. Werden die Signale zweier Satelliten empfangen, schneiden sich zwei Kreise, und es kommen nur noch die Schnittpunkte als Position in Frage. Ab dem dritten Signal ist die gesuchte Position - der Schnittpunkt der drei Kreise - eindeutig bestimmt.

In der Praxis wird ein vierter Satellit benötigt, weil die Uhren der Empfänger aus Kostengründen nicht die erforderliche Genauigkeit besitzen und dieser Empfängeruhrenfehler korrigiert werden muss.  


## Optimiert und korrigiert

Aus diesem Grund wurden verschiedene Möglichkeiten zur Optimierung von GPS entwickelt. Einige dieser Systeme setzen auf Korrektursignale, beispielsweise von zusätzlichen Satelliten oder Mobilfunknetzen, die in die Berechnung mit einbezogen werden. Beispiele dafür sind der Wide-Area Augmentation Service (WAAS) bzw. die europäische Variante _European Geostationary Navigation Overlay Service (EGNOS)_ mit 2-5 Metern Genauigkeit oder das vergleichbare _Assisted GPS (A-GPS)_. Ein anderer Ansatz nutzt an Stelle der normalerweise verwendeten Codephase mit Zeitstempel die übertragenden Radiowellen zur Ermittlung der Entfernung zu den Satelliten (Precise Point Positioning, kurz PPP,  mit Genauigkeiten zwischen 20 und 50 Zentimetern). Das Differential Global Positioning System (DGPS) mit 0,02-0,05 Metern Genauigkeit arbeitet dagegen mit Referenzstationen. Dabei wird die Position für eine eingemessene Station zu einer gegebenen Zeit ermittelt, und die dabei aufgetretene Abweichung auf die eigentlich zu messende Position (den Rover) per Funk oder über das Internet übertragen. Die Entfernung zwischen Basis und Rover wird als Baseline bezeichnet, sie sollte nicht größer als etwa 10 Kilometer sein, damit das Verfahren funktioniert.

Das Korrigieren der Position mit den Referenzdaten lässt sich auch im Nachgang der Messung erledigen, man spricht in diesem Fall von Postprocessing. Da hier weniger technische Probleme auftreten können, ist diese Variante den Echtzeitverfahren gegenüber im Vorteil. Es gibt aber viele Anwendungsfälle, wo die exakte, korrigierte Position wirklich in Echtzeit gebraucht wird (beispielsweise für den Mähdrescher oder die Paketdrohne).

## Real Time Kinetics
Das leistungsfähigste Korrekturverfahren nennt sich Real Time Kinetics (RTK) und erlaubt Messgenauigkeiten von weniger als einem Zentimeter in der Horizontalen.  Erreicht wird dies durch die Kombination zweier Optimierungen: RTK nutzt sowohl die Entfernungsbestimmung über die Trägerphase als auch die Korrektursignale von Referenzstationen. Damit das funktioniert ist ein Empfänger erforderlich, der Zugriff auf die Rohdaten erlaubt. Die Auflösung der dabei auftretenden Phasenmehrdeutigkeiten zur sogenannten RTK-Fix-Position ist ein komplexer mathematischer Vorgang, der eine Spezialsoftware wie zum Beispiel [RTKLIB](http://www.rtklib.com ) erfordert. Mit der Open Source-Software lassen sich schon mit günstigen Einfrequenzempfängern zentimetergenaue GPS-Lösungen basteln.

Die dazu erforderlichen Referenzdaten kann man mit einem zweiten Empfänger an einer exakt bestimmten Position erfassen. Da sich dies in der Praxis eher aufwendig gestaltet und ein zweiter Empfänger mit zusätzlichen Kosten verbunden ist, bietet sich als Alternative die Verwendung der Korrekturdaten eines kommerziellen Anbieters an. Referenzdaten sind in Deutschland flächendeckend und in einigen Bundesländern dank SAPOS, dem Satellitenpositionierungsdienst der deutschen Landesvermessungen, sogar kostenlos erhältlich. SAPOS unterhält ein Netzwerk von Referenzstationen, und ermöglicht die Daten der nächstgelegenen Station live als NTRIP-Stream oder als Download für die Korrektur im Postprocessing zu beziehen. Außerdem unterstützt SAPOS virtuelle Referenzstationen (VRS), bei denen die Daten mehrerer Referenzstationen zu einer fiktiven Station an der ungefähren Position des Nutzers gemittelt werden.


## Mehrfrequenzempfänger
Das Ermitteln zentimetergenauer Positionen mit Einfrequenzempfängern  funktioniert dank der vielen Satelliten ganz gut, zumindest im freiem Feld. Es geht es aber noch deutlich besser: Im professionellen Einsatz werden inzwischen überwiegend Mehrfrequenzempfänger verwendet. Diese besitzen ein Empfangsteil für mehrere Frequenzen, zum Beispiel L1 und L2 bei GPS. Auf diese Weise wird die Anzahl der zur Positionsbestimmung verfügbaren Signale praktisch verdoppelt und der oben genannte Fehler bei der Berechnung der Signalausbreitung in der Ionosphäre reduziert, so dass die Positionsbestimmung auch unter schwierigen Umständen, zum Beispiel in urbanen Gebieten, möglich ist. Weitere positive Effekte wie eine kürzere Time-to-fix und die Erhöhung der Baseline auf etwa 100km erhöhen die Praxistauglichkeit der Geräte.

Mehrfrequenzempfänger waren lange Zeit sehr teuer. Das Schweizer Unternehmen ublox hat im letzten Jahr mit dem ZED-F9P ein Modul herausgebracht, das den Markt nun umkrempelt. Ab etwa 200 Euro erhält man den Mehrfrequenzempfänger auf einem Entwicklerboard, mit USB, I2C (SDA,SCL), SPI und Uart-Anschlüssen (https://www.gnss.store/ oder https://www.ardusimple.com/simplertk2b/). Der ZED-F9P empfängt GPS, GLONASS, Galileo and BeiDou auf den Bändern L2OF, L2C, E1B/C, B2I, E5b, L1C/A, L1OF und B1I. Das ist für diesen Preis freilich kein benutzerfreundliches Endgerät in robustem Gehäuse mit Bedienungsanleitung und Antennenstab. Es handelt sich um ein Bastler- und Testboard, das in der Entwicklung genutzt wird, funktional aber alle Möglichkeiten bietet.

Benötigt wird allerdings noch eine geeignete Mehrfrequenzantenne, die ebenfalls mit etwa 250€ zu Buche schlägt. Die TW 3870 von Tallysman empfängt GPS L1/L2, GLONASS G1/G2, BeiDou B1 und Galileo E1. Insgesamt kosten die Bauteile also knapp 450 Euro. Dafür erhält der Tüftler dann allerdings auch ein GPS-System mit Empfangseigenschaften eines Geräts aus der Oberliga.

Lust auf mehr? Der Blog [rtklibexplorer](https://rtklibexplorer.wordpress.com) befasst sich detailliert mit RTK und den verschiedenen Empfängern. Stets fundiert und mit vielen Messdaten und Grafiken. Daneben existieren noch zwei größere Foren, die ebenfalls viele hilfreiche Informationen enthalten: Das deutsche [Geospector-Forum](http://www.gpsforum.geospector.de) und das englischsprachige Forum von [Emlid](https://community.emlid.com).
